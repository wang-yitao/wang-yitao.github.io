<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>How to clone and manage a jekyll website for personal portfolio and blog | Yitao Wang</title> <meta name="author" content="Yitao Wang"> <meta name="description" content="PhD Candidate in MSE at Lehigh University "> <meta name="keywords" content="computational materials science, machine learning, scientific computing, mechanics"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/tango.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://wang-yitao.github.io/blog/2023/manage-website/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=L"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","L");</script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Yitao Wang</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">TIL<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Codes</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title"><b>How to clone and manage a jekyll website for personal portfolio and blog</b></h1> <p class="post-meta">May 7, 2023</p> <p class="post-tags"> <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a> Â  Â· Â <a href="/blog/tag/web-development"> <i class="fas fa-hashtag fa-sm"></i> web-development</a> Â <a href="/blog/tag/markdown"> <i class="fas fa-hashtag fa-sm"></i> markdown</a> Â <a href="/blog/tag/jekyll"> <i class="fas fa-hashtag fa-sm"></i> jekyll</a> Â <a href="/blog/tag/frontend"> <i class="fas fa-hashtag fa-sm"></i> frontend</a> Â  Â· Â <a href="/blog/category/web-development"> <i class="fas fa-tag fa-sm"></i> web-development</a> Â <a href="/blog/category/hack"> <i class="fas fa-tag fa-sm"></i> hack</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <ul> <li><a href="#have-your-first-site-online-in-10-mins">Have your first site online in 10 mins</a></li> <li><a href="#create-a-local-branch-before-pulling-from-upstream">Create a local branch before pulling from upstream</a></li> <li><a href="#enable-autoregeneration-on-wsl">Enable autoregeneration on WSL</a></li> <li><a href="#preview-drafts-during-development">Preview drafts during development</a></li> <li><a href="#too-many-commits-try-git-squash">Too many commits? Try <code class="language-plaintext highlighter-rouge">git squash</code></a></li> <li><a href="#todo">TODO</a></li> </ul> <hr> <p>Nowadays the digital presence becomes increasingly important for professionals in all spheres. Itâ€™s undeniable that the ones who can reach higher and wider visibility online control more power and opportunities. Fortunately, there are many available and convenient options out there to fast build the website easily from scratch, such as <a href="https://www.wix.com/" rel="external nofollow noopener noopener noreferrer" target="_blank">Wix</a>, <a href="https://wordpress.com/" rel="external nofollow noopener noopener noreferrer" target="_blank">WordPress</a>, <a href="https://www.weebly.com/" rel="external nofollow noopener noopener noreferrer" target="_blank">Weebly</a>, <em>etc</em>.</p> <p>However, as a control freak and a nerd who loves elegant and neat solutions to every problem and likes to present (<del>show off</del>) their coding skills, the GUI options are not an option, and having a static and minimalist <a href="https://jekyllrb.com/" rel="external nofollow noopener noopener noreferrer" target="_blank">jekyll</a> website as a platform to showcase the work and idea is almost <strong>the most popular and professional choice</strong>. (You can simply google how other programmers, engineers, and scientists build their sites.)</p> <p>Of course, there are new and fancy alternatives, like <a href="https://www.gatsbyjs.com/" rel="external nofollow noopener noopener noreferrer" target="_blank">Gatsby</a> and <a href="https://nextjs.org/" rel="external nofollow noopener noopener noreferrer" target="_blank">Next.js</a>, that are empowered by JavaScript to have dazzling animations and interactive functions. They are definitely suitable for organizations and companies that need powerful applications and integration with backend and database. I once used Gatsby to build my personal website and thought this new technology can bring me a lot of convenience. It turned out that it never feels flexible enough for me to adjust style and to create technical content that looks close to the community I identify myself with. <em>It just doesnâ€™t feel right.</em></p> <p>Since I have been using <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener noopener noreferrer" target="_blank">al-folio</a> theme for a while and have modified a large portion of the code to suit my purpose and taste, it might be a good idea to keep track of the developing process along the way and meanwhile to keep my website up-to-date with the upstream to incorporate new functionality, <em>e.g.</em> copy button for markdown post (<a href="https://github.com/alshedivat/al-folio/pull/1267" rel="external nofollow noopener noopener noreferrer" target="_blank">PR #1267</a>)! This post serves both as my note and technical writing practice. Hope this can also help other young professionals build their own digital garden, knowledge vault, or project archives ðŸ˜ƒ!</p> <h2 id="have-your-first-site-online-in-10-mins">Have your first site online in 10 mins</h2> <p>Having your first site online is very simple. To begin with, just choose one template from github repositories (<a href="https://jekyllrb.com/docs/themes/" rel="external nofollow noopener noopener noreferrer" target="_blank">official docs</a>, <a href="https://github.com/topics/jekyll-theme" rel="external nofollow noopener noopener noreferrer" target="_blank">github topics</a>, <a href="https://jekyll-themes.com/" rel="external nofollow noopener noopener noreferrer" target="_blank">jekyll-themes.com</a>) and follow the instruction to fork, clone and deploy through GitHub Pages. Each template may have different instructions but essentially only three to four steps:</p> <ol> <li>Fork and rename the repository</li> <li>Clone make change locally</li> <li>Commit and push the change to remote repository</li> <li> <a href="https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site" rel="external nofollow noopener noopener noreferrer" target="_blank">Modify repository setting</a> to ensure correct workflow for automated deploy</li> </ol> <p>If successful, the site will appear correctly at <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code> or <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io/&lt;reponame&gt;</code> or custom domain if you have configured.</p> <p>My friend <a href="https://enze-chen.github.io/" rel="external nofollow noopener noopener noreferrer" target="_blank">Enze Chen</a> also shares his <a href="https://enze-chen.github.io/website" rel="external nofollow noopener noopener noreferrer" target="_blank">10-step tutorial</a> to build a simple jekyll site from zero to hero. Check out his post ðŸ™Œ!</p> <h2 id="create-a-local-branch-before-pulling-from-upstream">Create a local branch before pulling from upstream</h2> <p>Once I had nightmare when I tried to upgrade the my repository version by directly pulling from the upstream to my master branch. I followed the instruction to rebase the repository to the newest version. However, I already had a too many commits that cause compatibility issue with the newest version, and it turned out I couldnâ€™t just cancel the rebase in a clean way halfway through the process. In the end I just killed my local repo and clone it back from my github ðŸ’€.</p> <iframe src="https://giphy.com/embed/wloGlwOXKijy8" width="480" height="271" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe> <p>In the hindsight, I should first clone a local branch (and of course it is a good habit) that is not tied to my remote branch and thus would not affect my website even if I couldnâ€™t rebase and resolve the conflicts. By doing so, I can safely pull new functionality from the upstream without hurting my own repo. Here are the step-by-step procedures:</p> <ol> <li> <p>Create a new branch named <code class="language-plaintext highlighter-rouge">update</code> based on the current HEAD (in my case just <code class="language-plaintext highlighter-rouge">master</code> branch)</p> <div class="language-shell highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> git branch update
</code></pre></div> </div> </li> <li> <p>Since we may want to make quiet, small update on <code class="language-plaintext highlighter-rouge">master</code> for convenience and only leave <code class="language-plaintext highlighter-rouge">update</code> branch for upgrading, the <code class="language-plaintext highlighter-rouge">master</code> might be several commits ahead of the <code class="language-plaintext highlighter-rouge">update</code> so need to merge change from <code class="language-plaintext highlighter-rouge">master</code> to <code class="language-plaintext highlighter-rouge">update</code> before rebasing.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> git checkout update
 git merge master
</code></pre></div> </div> </li> <li> <p>Rebase <code class="language-plaintext highlighter-rouge">update</code> branch on <code class="language-plaintext highlighter-rouge">upstream</code></p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> git remote add upstream https://github.com/alshedivat/al-folio.git
 git fetch upstream
 git rebase &lt;version&gt;
</code></pre></div> </div> </li> <li> <p>After resolving all the conflicts, we can safely merge <code class="language-plaintext highlighter-rouge">update</code> back to <code class="language-plaintext highlighter-rouge">master</code></p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> git checkout master
 git fetch 
 git pull
 git merge update
</code></pre></div> </div> </li> <li> <p>Push the updated local <code class="language-plaintext highlighter-rouge">master</code> to remote repository</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> git commit <span class="nt">-am</span> <span class="s1">'whatever message'</span>
 git push
</code></pre></div> </div> </li> </ol> <h2 id="enable-autoregeneration-on-wsl">Enable autoregeneration on WSL</h2> <p>After knowing how to build and update the website, it is time to actively develop the site content. Usually we want to visualize our site before pushing to the repository. To preview the change, simply run the following command at the site home directory:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve
</code></pre></div></div> <p><a href="https://www.ruby-lang.org/en/" rel="external nofollow noopener noopener noreferrer" target="_blank">Ruby</a> will generate a local url (<em>e.g.</em> <a href="http://127.0.0.1:4000/" rel="external nofollow noopener noopener noreferrer" target="_blank">http://127.0.0.1:4000/</a>) that can be opened by the browser.</p> <p>However, when I use windows PC, it is tricky to enable site autoregeneration on WSL. (I am switching to macbook soon anyway ðŸ˜‡) If you execute <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve</code> on WSL, you will see the warning:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Auto-regeneration may not work on some Windows versions. Please see: https://github.com/Microsoft/BashOnWindows/issues/216
If it does not work, please upgrade Bash on Windows or run Jekyll with <span class="nt">--no-watch</span><span class="nb">.</span>
</code></pre></div></div> <p>and jekyll cannot regenerate the site for you automatically after you modify your site content.</p> <p><img src="../../../assets/post/2023-05-06-18-37-32.png" alt=""></p> <p><img src="../../../assets/post/2023-05-06-18-55-14.png" alt=""></p> <p>To resolve this, we need to add flag behind the original command as <a href="https://github.com/microsoft/WSL/issues/216#issuecomment-756424551" rel="external nofollow noopener noopener noreferrer" target="_blank">@gamepad-coder</a> shared:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve <span class="nt">--force_polling</span> <span class="nt">--livereload</span>
</code></pre></div></div> <h2 id="preview-drafts-during-development">Preview drafts during development</h2> <p>Jekyll offers a <a href="https://jekyllrb.com/docs/posts/#drafts" rel="external nofollow noopener noopener noreferrer" target="_blank">functionality</a> to preview drafts locally when building the site. To enable this functionality, we simply add <code class="language-plaintext highlighter-rouge">--drafts</code> after <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve</code>:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve <span class="nt">--force_polling</span> <span class="nt">--livereload</span> <span class="nt">--drafts</span>
</code></pre></div></div> <h2 id="too-many-commits-try-git-squash">Too many commits? Try <code class="language-plaintext highlighter-rouge">git squash</code> </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset <span class="nt">--hard</span> HEAD~n <span class="c"># goes back to last n commit</span>
git reset <span class="nt">--hard</span> &lt;sha1-commit-id&gt;
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git merge <span class="nt">--squash</span> HEAD@<span class="o">{</span>1<span class="o">}</span>
git commit
git push
</code></pre></div></div> <h2 id="todo">TODO</h2> <ul class="task-list"> <li class="task-list-item"> <input type="checkbox" class="task-list-item-checkbox" disabled><a href="https://blog.briandrupieski.com/generate-anchors-in-jekyll-blog-post" rel="external nofollow noopener noopener noreferrer" target="_blank">Add heading anchor/link button for subtitles</a> </li> <li class="task-list-item"> <input type="checkbox" class="task-list-item-checkbox" disabled checked><a href="">Code block copy button</a> </li> </ul> </div> </article> <div align="center" style="margin-bottom: 1em; margin-top: 1em;"> <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="cyrusyc" data-color="#FFDD00" data-emoji="" data-font="Cookie" data-text="Buy me a coffee" data-outline-color="#000000" data-font-color="#000000" data-coffee-color="#CD7812"></script> </div> <br><div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"wang-yitao/wang-yitao.github.io","data-repo-id":"MDEwOlJlcG9zaXRvcnk2MDAyNDM2NQ==","data-category":"Comments","data-category-id":"DIC_kwDOA5PmLc4CTBt6","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,a])=>giscusScript.setAttribute(t,a)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener noopener noreferrer" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> Â© Copyright 2025 Yitao Wang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener noopener noreferrer">Jekyll</a> &amp; <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener noopener noreferrer" target="_blank">al-folio</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js"></script> <script defer src="/assets/js/common.js"></script> <script defer src="/assets/js/copy_code.js" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0,processEnvironments:!0}};</script> <script defer type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=L"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","L");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>